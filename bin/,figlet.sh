#!/bin/sh
# Richard H. Tingstad
# ╦═╗┬┌─┐┬ ┬┌─┐┬─┐┌┬┐  ╦ ╦   ╔╦╗┬┌┐┌┌─┐┌─┐┌┬┐┌─┐┌┬┐
# ╠╦╝││  ├─┤├─┤├┬┘ ││  ╠═╣    ║ │││││ ┬└─┐ │ ├─┤ ││
# ╩╚═┴└─┘┴ ┴┴ ┴┴└──┴┘  ╩ ╩o   ╩ ┴┘└┘└─┘└─┘ ┴ ┴ ┴─┴┘
set -e

main() {
    calvin | awk -v txt="$*" '

# figfont.txt
#          flf2a$ 6 5 20 15 3 0 143 229    NOTE: The first five characters in
#            |  | | | |  |  | |  |   |     the entire file must be "flf2a".
#           /  /  | | |  |  | |  |   \
#  Signature  /  /  | |  |  | |   \   Codetag_Count
#    Hardblank  /  /  |  |  |  \   Full_Layout*
#         Height  /   |  |   \  Print_Direction
#         Baseline   /    \   Comment_Lines
#          Max_Length      Old_Layout*

    NR == 1 {
        height = $2
        commentlines = $6
        for (i = 32; i < 127; i++)
            num[sprintf("%c", i)] = i
    }
    NR > commentlines+1 {
        sub(/@+$/, "")
        gsub(/\$/, " ")
        d[c++] = $0
    }
    END {
        for (i = 1; i <= height; i++)
            out[i] = ""
        n = split(txt, a, "")
        for (i = 1; i <= n; i++) {
            idx = (num[a[i]] - 32) * height
            for (j = 1; j <= height; j++)
                out[j] = out[j] d[idx+j-1]
        }
        for (i = 1; i <= height; i++)
            print out[i]
    }'
}

calvin() { # Calvin S.flf
cat <<'EOF'
flf2a$ 3 3 7 0 7 0 64 0
Font Author: ?

More info on font here:

https://web.archive.org/web/20120819044459/http://www.roysac.com/thedrawfonts-tdf.asp

FIGFont created with: http://patorjk.com/figfont-editor
$$@
$$@
$$@@
┬@
│@
o@@
@
@
@@
─┼─┼─@
─┼─┼─@
     @@
┌┼┐@
└┼┐@
└┼┘@@
O┬@
┌┘@
┴O@@
 ┬ @
┌┼─@
└┘ @@
@
@
@@
@
@
@@
@
@
@@
\│/@
─ ─@
/│\@@
@
@
@@
 @
 @
┘@@
   @
───@
   @@
 @
 @
o@@
@
@
@@
╔═╗@
║◆║@
╚═╝@@
╗@
║@
╩@@
╒═╗@
╔═╝@
╚═╛@@
╒═╗@
 ═╣@
╘═╝@@
╥ ╥@
╚═╣@
  ╨@@
╔═╕@
╚═╗@
╘═╝@@
╔═╕@
╠═╗@
╚═╝@@
╒═╗@
  ║@
  ╨@@
 ╔╗@
╔╩╣@
╚═╝@@
╔═╗@
╚═╣@
  ╨@@
 @
o@
o@@
 @
o@
┘@@
@
@
@@
@
@
@@
@
@
@@
┌─┐@
 ┌┘@
 o @@
┌─┐@
│└┘@
└──@@
╔═╗@
╠═╣@
╩ ╩@@
╔╗ @
╠╩╗@
╚═╝@@
╔═╗@
║  @
╚═╝@@
╔╦╗@
 ║║@
═╩╝@@
╔═╗@
║╣ @
╚═╝@@
╔═╗@
╠╣ @
╚  @@
╔═╗@
║ ╦@
╚═╝@@
╦ ╦@
╠═╣@
╩ ╩@@
╦@
║@
╩@@
 ╦@
 ║@
╚╝@@
╦╔═@
╠╩╗@
╩ ╩@@
╦  @
║  @
╩═╝@@
╔╦╗@
║║║@
╩ ╩@@
╔╗╔@
║║║@
╝╚╝@@
╔═╗@
║ ║@
╚═╝@@
╔═╗@
╠═╝@
╩  @@
╔═╗ @
║═╬╗@
╚═╝╚@@
╦═╗@
╠╦╝@
╩╚═@@
╔═╗@
╚═╗@
╚═╝@@
╔╦╗@
 ║ @
 ╩ @@
╦ ╦@
║ ║@
╚═╝@@
╦  ╦@
╚╗╔╝@
 ╚╝ @@
╦ ╦@
║║║@
╚╩╝@@
═╗ ╦@
╔╩╦╝@
╩ ╚═@@
╦ ╦@
╚╦╝@
 ╩ @@
╔═╗@
╔═╝@
╚═╝@@
┌─@
│ @
└─@@
@
@
@@
─┐@
 │@
─┘@@
/\@
  @
  @@
    @
    @
────@@
@
@
@@
┌─┐@
├─┤@
┴ ┴@@
┌┐ @
├┴┐@
└─┘@@
┌─┐@
│  @
└─┘@@
┌┬┐@
 ││@
─┴┘@@
┌─┐@
├┤ @
└─┘@@
┌─┐@
├┤ @
└  @@
┌─┐@
│ ┬@
└─┘@@
┬ ┬@
├─┤@
┴ ┴@@
┬@
│@
┴@@
 ┬@
 │@
└┘@@
┬┌─@
├┴┐@
┴ ┴@@
┬  @
│  @
┴─┘@@
┌┬┐@
│││@
┴ ┴@@
┌┐┌@
│││@
┘└┘@@
┌─┐@
│ │@
└─┘@@
┌─┐@
├─┘@
┴  @@
┌─┐ @
│─┼┐@
└─┘└@@
┬─┐@
├┬┘@
┴└─@@
┌─┐@
└─┐@
└─┘@@
┌┬┐@
 │ @
 ┴ @@
┬ ┬@
│ │@
└─┘@@
┬  ┬@
└┐┌┘@
 └┘ @@
┬ ┬@
│││@
└┴┘@@
─┐ ┬@
┌┴┬┘@
┴ └─@@
┬ ┬@
└┬┘@
 ┴ @@
┌─┐@
┌─┘@
└─┘@@
@
@
@@
@
@
@@
@
@
@@
@
@
@@
@
@
@@
@
@
@@
@
@
@@
@
@
@@
@
@
@@
@
@
@@
@
@
@@
EOF
}

main "$@"

